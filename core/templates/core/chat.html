{% extends 'core/base.html' %}
{% block content %}
<h2>Chat</h2>
<form method="post">
  {% csrf_token %}
  <textarea name="question" rows="3" cols="40" style="width:100%; box-sizing:border-box;">
    {{ request.POST.question|default_if_none:"" }}
  </textarea><br>
  <button type="submit">Ask</button>
</form>

{% if sql %}
<h3>Generated SQL:</h3>
<pre>{{ sql }}</pre>
<h3>Results:</h3>
  <div class="chat-results">
      {% for row in response %}
        <div class="chat-row">{{ row }}</div>
      {% endfor %}
  </div>{% endif %}
{% endblock %}
